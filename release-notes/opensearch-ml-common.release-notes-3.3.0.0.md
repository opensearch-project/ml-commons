## Version 3.3.0 Release Notes

Compatible with OpenSearch and OpenSearch Dashboards version 3.3.0

### Features
* Add WriteToScratchPad and ReadFromScratchPad tools ([#4192](https://github.com/opensearch-project/ml-commons/pull/4192))
* Add global resource support ([#4003](https://github.com/opensearch-project/ml-commons/pull/4003))
* Add ml-commons passthrough post process function ([#4111](https://github.com/opensearch-project/ml-commons/pull/4111))
* Add output transformation support with mean pooling for ML inference processors ([#4236](https://github.com/opensearch-project/ml-commons/pull/4236))
* Adding query planning tool search template validation and integration tests ([#4177](https://github.com/opensearch-project/ml-commons/pull/4177))
* Onboards to centralized resource access control mechanism for ml-model-group ([#3715](https://github.com/opensearch-project/ml-commons/pull/3715))
* Refactor Agentic Memory ([#4218](https://github.com/opensearch-project/ml-commons/pull/4218))
* Search Template Support for QueryPlanningTool ([#4154](https://github.com/opensearch-project/ml-commons/pull/4154))
* [Agentic Search] Support Query Planner Tool with Conversational Agent ([#4203](https://github.com/opensearch-project/ml-commons/pull/4203))
* [FEATURE] Add Index Insight Feature ([#4088](https://github.com/opensearch-project/ml-commons/pull/4088))
* [FEATURE] Agent Execute Stream ([#4212](https://github.com/opensearch-project/ml-commons/pull/4212))
* [FEATURE] Predict Stream ([#4187](https://github.com/opensearch-project/ml-commons/pull/4187))
* [MCP Connector] MCP Connectors for streamable HTTP ([#4169](https://github.com/opensearch-project/ml-commons/pull/4169))
* Add processor chain and add support for model and tool ([#4093](https://github.com/opensearch-project/ml-commons/pull/4093))
* Add create session API; add message id to working memory; fix update api ([#4246](https://github.com/opensearch-project/ml-commons/pull/4246))

### Enhancements
* Add Get Agent to ML Client ([#4180](https://github.com/opensearch-project/ml-commons/pull/4180))
* Parameter Passing for Predict via Remote Connector ([#4121](https://github.com/opensearch-project/ml-commons/pull/4121))
* Support multi-tenancy for LocalRegexGuardrail ([#4120](https://github.com/opensearch-project/ml-commons/pull/4120))
* [MCP Server] Support Streamable HTTP and deprecate SSE in MCP server ([#4162](https://github.com/opensearch-project/ml-commons/pull/4162))
* [Memory] Add updated time to message ([#4201](https://github.com/opensearch-project/ml-commons/pull/4201))
* [Metrics] Introduce agent metrics & Add is_hidden tag for model metrics ([#4221](https://github.com/opensearch-project/ml-commons/pull/4221))
* Update interaction with failure message on agent execution failure ([#4198](https://github.com/opensearch-project/ml-commons/pull/4198))
* Add PlainNumberAdapter and corresponding tests for Gson in SearchIndexTool ([#4133](https://github.com/opensearch-project/ml-commons/pull/4133))
* Move HttpClientFactory to common to expose to other components ([#4175](https://github.com/opensearch-project/ml-commons/pull/4175))
* Change the setting name to same naming convention with others ([#4215](https://github.com/opensearch-project/ml-commons/pull/4215))
* Enabling agentic memory feature by default as we are going GA ([#4240](https://github.com/opensearch-project/ml-commons/pull/4240))
* Add parameter to control delete memories when delete container ([#4238](https://github.com/opensearch-project/ml-commons/pull/4238))
* Refactor and add more validation to processor chain ([#4260](https://github.com/opensearch-project/ml-commons/pull/4260))
* [Agentic Search] Use same model for Agent and QPT ([#4262](https://github.com/opensearch-project/ml-commons/pull/4262))
* Improve semantic fact extraction prompt and add JSON enforcement ([#4282](https://github.com/opensearch-project/ml-commons/pull/4282))
* Improve user preference extraction prompt with XML-based structure ([#4288](https://github.com/opensearch-project/ml-commons/pull/4288))

### Bug Fixes
* Fix NPE when execute flow agent with mutli tenancy is off ([#4189](https://github.com/opensearch-project/ml-commons/pull/4189))
* Fix claude model it ([#4167](https://github.com/opensearch-project/ml-commons/pull/4167))
* Fix error_prone_annotations jar hell ([#4214](https://github.com/opensearch-project/ml-commons/pull/4214))
* Fix failing UTs and increment version to 3.3.0-SNAPSHOT ([#4132](https://github.com/opensearch-project/ml-commons/pull/4132))
* Fix jdt formatter error ([#4151](https://github.com/opensearch-project/ml-commons/pull/4151))
* Fix missing RAG response from generative_qa_parameters ([#4118](https://github.com/opensearch-project/ml-commons/pull/4118))
* Fix model deploy issue and address other comments in #4003 ([#4207](https://github.com/opensearch-project/ml-commons/pull/4207))
* Fix: refactor memory delete by query API to avoid anti pattern ([#4234](https://github.com/opensearch-project/ml-commons/pull/4234))
* Fix MLTaskState enum serialization errors ([#4158](https://github.com/opensearch-project/ml-commons/pull/4158))
* Fix connector tool IT ([#4233](https://github.com/opensearch-project/ml-commons/pull/4233))
* Agent/Tool Parsing Fixes ([#4138](https://github.com/opensearch-project/ml-commons/pull/4138))
* [Metrics Framework] Fix version checking logic for starting the stats collector job ([#4220](https://github.com/opensearch-project/ml-commons/pull/4220))
* Fixing build issue in ml-commons ([#4210](https://github.com/opensearch-project/ml-commons/pull/4210))
* Fixing metrics correlation algorithm ([#4200](https://github.com/opensearch-project/ml-commons/pull/4200))
* Fixing validate access for multi-tenancy ([#4196](https://github.com/opensearch-project/ml-commons/pull/4196))
* Make MLSdkAsyncHttpResponseHandler return IllegalArgumentException ([#4182](https://github.com/opensearch-project/ml-commons/pull/4182))
* Skip the model interface validation for batch predict ([#4219](https://github.com/opensearch-project/ml-commons/pull/4219))
* Fix: use builtin BulkByScrollResponse parser to parse delete by query response in memories ([#4237](https://github.com/opensearch-project/ml-commons/pull/4237))
* Fix stream predict with security enabled ([#4248](https://github.com/opensearch-project/ml-commons/pull/4248))
* Fix wrong field name in get working memory API ([#4255](https://github.com/opensearch-project/ml-commons/pull/4255))
* Fix: allow only container owner to delete memory container ([#4258](https://github.com/opensearch-project/ml-commons/pull/4258))
* [Agent Framework] Exception handling for runtime exceptions during async execution ([#4263](https://github.com/opensearch-project/ml-commons/pull/4263))
* Fix json parsing error by extracing json first; add for each processor; support input processor ([#4278](https://github.com/opensearch-project/ml-commons/pull/4278))
* Fix: add validations during create and update memory container ([#4284](https://github.com/opensearch-project/ml-commons/pull/4284))
* Fix agent streaming with security enabled + error handling ([#4256](https://github.com/opensearch-project/ml-commons/pull/4256))
* Fix llm result path; convert message to user prompt string ([#4283](https://github.com/opensearch-project/ml-commons/pull/4283))
* Fix llm result path error ([#4292](https://github.com/opensearch-project/ml-commons/pull/4292))

### Infrastructure
* Update maintainer list ([#4139](https://github.com/opensearch-project/ml-commons/pull/4139))
* Downloads test certificates from security plugin ([#4245](https://github.com/opensearch-project/ml-commons/pull/4245))
* Update approver matching to be exact match ([#4247](https://github.com/opensearch-project/ml-commons/pull/4247))
* Fix approver parsing bug in require-approval workflow ([#4259](https://github.com/opensearch-project/ml-commons/pull/4259))

### Documentation
* Add colpali blueprint ([#4130](https://github.com/opensearch-project/ml-commons/pull/4130))
* Add tutorial for agentic search ([#4127](https://github.com/opensearch-project/ml-commons/pull/4127))
* Ollama connector blueprint ([#4160](https://github.com/opensearch-project/ml-commons/pull/4160))
* Tutorial on agentic memory with strands agents ([#4125](https://github.com/opensearch-project/ml-commons/pull/4125))
* Change suggested instance type in tutorial ([#4145](https://github.com/opensearch-project/ml-commons/pull/4145))

### Maintenance
* Adding more unit tests ([#4124](https://github.com/opensearch-project/ml-commons/pull/4124))
* Adding more unit tests ([#4126](https://github.com/opensearch-project/ml-commons/pull/4126))
* Move common string ([#4173](https://github.com/opensearch-project/ml-commons/pull/4173))
* Fix Cohere IT ([#4174](https://github.com/opensearch-project/ml-commons/pull/4174))
* Updating gson version to resolve conflict coming from core ([#4176](https://github.com/opensearch-project/ml-commons/pull/4176))